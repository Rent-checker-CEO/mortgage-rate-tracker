<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mortgage Rate Alert – Save Money When Rates Drop</title>
  <style>
    body { font-family: Arial, sans-serif; max-width: 900px; margin: 0 auto; padding: 20px; line-height: 1.6; color: #333; }
    header { text-align: center; padding: 40px 20px; background: #007bff; color: white; border-radius: 0 0 12px 12px; }
    h1 { margin: 0; font-size: 2.5em; }
    .hero { font-size: 1.3em; max-width: 700px; margin: 20px auto; }
    .section { background: white; padding: 25px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); margin: 30px 0; }
    table { width: 100%; border-collapse: collapse; margin: 20px 0; }
    th, td { padding: 12px; border: 1px solid #ddd; text-align: left; }
    th { background: #f4f4f4; }
    button { background: #28a745; color: white; padding: 12px 24px; border: none; border-radius: 6px; cursor: pointer; font-size: 16px; }
    .gumroad-button { background: #ff5a5f; color: white; padding: 12px 24px; border-radius: 6px; text-decoration: none; display: inline-block; margin: 10px 0; }
    footer { text-align: center; margin-top: 40px; color: #666; }
  </style>
</head>
<body>
  <header>
    <h1>Mortgage Rate Alert</h1>
    <p class="hero"><strong>Who it's for:</strong> Homeowners, first-time buyers, and remortgagers in the UK looking to save money.</p>
    <p class="hero"><strong>What it does:</strong> Tracks the best daily fixed-rate deals (2yr/5yr) and alerts you when rates drop below your target.</p>
    <p class="hero"><strong>Why you should care:</strong> A 0.5% rate drop on a £200k mortgage can save you £500–£1,000+ per year. Get ahead free — or upgrade for premium tools.</p>
  </header>

  <div class="section">
    <h2>Current Top Deals</h2>
    <p>Last updated: <span id="updated">Loading...</span></p>
    <table id="deals-table">
      <thead>
        <tr><th>Term</th><th>Lender</th><th>Rate (%)</th><th>LTV (%)</th><th>Fee (£)</th><th>Notes</th></tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>

  <div class="section">
    <h2>Remortgage Calculator</h2>
    <form id="calcForm">
      <label>Loan Amount (£):</label><br><input type="number" id="loanAmount" placeholder="200000" required><br>
      <label>Interest Rate (%):</label><br><input type="number" id="interestRate" placeholder="3.75" step="0.01" required><br>
      <label>Term (Years):</label><br><input type="number" id="termYears" placeholder="25" required><br>
      <button type="button" onclick="calculateMortgage()">Calculate</button>
    </form>
    <p id="calcResult" style="margin-top:15px; font-weight:bold;"></p>
  </div>

  <div class="section">
    <h2>Free Rate Drop Alerts</h2>
    <p>Sign up for email notifications when rates fall below your target.</p>
    <button onclick="window.open('https://docs.google.com/forms/d/e/1FAIpQLSclbKRu_NKCBfeyItgEcmAMTsxjf-CR6_EixS-PApPM3vDqhQ/viewform', '_blank')">Sign Up Free</button>
  </div>

  <div class="section">
    <h2>Premium Upgrades</h2>
    <a class="gumroad-button" href="https://tkuser6.gumroad.com/l/qbcxso">£2.99 – Premium Alerts + Tracker Template</a><br>
    <a class="gumroad-button" href="https://tkuser6.gumroad.com/l/cpquh">£9.99 – Full Remortgage Checklist PDF</a>
  </div>

  <script src="https://gumroad.com/js/gumroad.js"></script>

  <script>
    fetch('deals.json')
      .then(res => res.json())
      .then(data => {
        document.getElementById('updated').textContent = data.updated;
        const tbody = document.getElementById('deals-table').querySelector('tbody');
        tbody.innerHTML = '';
        data.deals.forEach(deal => {
          const row = document.createElement('tr');
          row.innerHTML = `<td>${deal.term}</td><td>${deal.lender}</td><td>${deal.rate}</td><td>${deal.ltv}</td><td>${deal.fee}</td><td>${deal.notes}</td>`;
          tbody.appendChild(row);
        });
      })
      .catch(() => document.getElementById('updated').textContent = 'Error loading');

    function calculateMortgage() {
      const P = parseFloat(document.getElementById('loanAmount').value);
      const r = parseFloat(document.getElementById('interestRate').value) / 100 / 12;
      const n = parseInt(document.getElementById('termYears').value) * 12;
      if (isNaN(P) || isNaN(r) || isNaN(n)) return;
      const M = P * (r * Math.pow(1 + r, n)) / (Math.pow(1 + r, n) - 1);
      document.getElementById('calcResult').innerHTML = `Monthly: £${M.toFixed(2)} | Total: £${(M * n).toFixed(2)}`;
    }
  </script>

  <footer>
    <p>© 2026 Mortgage Rate Alert • Built for UK homeowners • Not financial advice</p>
  </footer>
</body>
</html>
